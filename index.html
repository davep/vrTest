<html>

  <head>

    <title>VR Test</title>

    <style>
     body {
         margin: 0;
     }
    </style>

  </head>

  <body>

    <script type="module">

     // Import the framework.
     import * as THREE from "https://unpkg.com/three/build/three.module.js";
     import { VRButton } from "https://unpkg.com/three/examples/jsm/webxr/VRButton.js";
     import { BoxLineGeometry } from "https://unpkg.com/three/examples/jsm/geometries/BoxLineGeometry.js";

     // Add some light to the scene.
     function theLight( scene ) {
         const light = new THREE.DirectionalLight( 0xFFFFFF, 1.0 );
         light.position.set( 0, 10, 0 );
         light.target.position.set( -5, 0, 0 );
         scene.add( light );
         scene.add( light.target );
         scene.add( new THREE.AmbientLight( 0xFFFFFF, 0.2 ) );
     }

     // Function for making the camrea.
     function theCamera() {
         const camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );
         camera.position.z = 5;
         return camera
     }

     // Oh hi Mark!
     function theRoom() {
         return new THREE.LineSegments(
	     new BoxLineGeometry( 6, 6, 6, 10, 10, 10 ).translate( 0, 3, 0 ),
	     new THREE.LineBasicMaterial( { color: 0xFFFF00 } )
	 );
     }

     // Function for making the renderer.
     function theRenderer() {
         const renderer = new THREE.WebGLRenderer();
         renderer.setSize( window.innerWidth, window.innerHeight );
         renderer.xr.enabled = true;
         document.body.appendChild( renderer.domElement );
         return renderer
     }

     // Function for making the cube.
     function theCube() {
         const cube = new THREE.Mesh(
             new THREE.BoxGeometry( 0.5, 0.5, 0.5 ),
             new THREE.MeshPhongMaterial( { color: 0xff0000 } )
         );
         cube.position.y = 1;
         cube.position.z = -0.5;
         return cube;
     }

     // Create the things that will help make the scene.
     const scene = new THREE.Scene();
     const camera = theCamera();
     const renderer = theRenderer()

     // Add some light to the scene.
     theLight( scene );

     // Create a room to stand in.
     scene.add( theRoom() );

     // Add the cube to the scene.
     const cube = theCube();
     scene.add( cube );

     // Add the button that lets people switch into VR.
     document.body.appendChild( VRButton.createButton( renderer ) );

     // Animation loop.
     renderer.setAnimationLoop( () => {
         cube.rotation.x += 0.01;
         cube.rotation.y += 0.01;
	 renderer.render( scene, camera );
     } );

    </script>

  </body>

</html>

<!-- index.html ends here -->
